{"version":3,"file":"ui-legacy-Di__5NtE.js","sources":["../../src/ui/components/BaseComponent.js","../../src/ui/components/Dashboard.js","../../src/ui/components/Chart.js","../../src/ui/components/EconomicsScreen.js"],"sourcesContent":["/**\n * BaseComponent - Base class for all UI components in SP_Sim\n * Provides common functionality for event handling and DOM manipulation\n */\nexport class BaseComponent {\n  constructor(elementId) {\n    this.element = elementId ? document.getElementById(elementId) : null;\n    this.listeners = [];\n    this.isVisible = true;\n  }\n\n  /**\n   * Add event listener and track it for cleanup\n   */\n  addEventListener(element, event, handler) {\n    const listener = { element, event, handler };\n    element.addEventListener(event, handler);\n    this.listeners.push(listener);\n  }\n\n  /**\n   * Remove all event listeners\n   */\n  removeAllEventListeners() {\n    this.listeners.forEach(({ element, event, handler }) => {\n      element.removeEventListener(event, handler);\n    });\n    this.listeners = [];\n  }\n\n  /**\n   * Show the component\n   */\n  show() {\n    if (this.element) {\n      this.element.classList.remove('hidden');\n      this.isVisible = true;\n    }\n  }\n\n  /**\n   * Hide the component\n   */\n  hide() {\n    if (this.element) {\n      this.element.classList.add('hidden');\n      this.isVisible = false;\n    }\n  }\n\n  /**\n   * Toggle component visibility\n   */\n  toggle() {\n    if (this.isVisible) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  /**\n   * Update component content\n   */\n  update(_data) {\n    // To be implemented by subclasses\n    console.warn('update() method not implemented in', this.constructor.name); // eslint-disable-line no-console\n  }\n\n  /**\n   * Destroy the component and clean up\n   */\n  destroy() {\n    this.removeAllEventListeners();\n    if (this.element && this.element.parentNode) {\n      this.element.parentNode.removeChild(this.element);\n    }\n  }\n\n  /**\n   * Set element text content safely\n   */\n  setTextContent(selector, text) {\n    const element = this.element ? this.element.querySelector(selector) : document.querySelector(selector);\n    if (element) {\n      element.textContent = text;\n    }\n  }\n\n  /**\n   * Set element HTML content safely\n   */\n  setHTML(selector, html) {\n    const element = this.element ? this.element.querySelector(selector) : document.querySelector(selector);\n    if (element) {\n      element.innerHTML = html;\n    }\n  }\n\n  /**\n   * Add CSS class to element\n   */\n  addClass(selector, className) {\n    const element = this.element ? this.element.querySelector(selector) : document.querySelector(selector);\n    if (element) {\n      element.classList.add(className);\n    }\n  }\n\n  /**\n   * Remove CSS class from element\n   */\n  removeClass(selector, className) {\n    const element = this.element ? this.element.querySelector(selector) : document.querySelector(selector);\n    if (element) {\n      element.classList.remove(className);\n    }\n  }\n\n  /**\n   * Format number with thousands separators\n   */\n  formatNumber(num, decimals = 0) {\n    return new Intl.NumberFormat('en-US', {\n      minimumFractionDigits: decimals,\n      maximumFractionDigits: decimals,\n    }).format(num);\n  }\n\n  /**\n   * Format percentage\n   */\n  formatPercentage(num, decimals = 1) {\n    return `${this.formatNumber(num, decimals)}%`;\n  }\n\n  /**\n   * Format currency\n   */\n  formatCurrency(num, currency = 'USD') {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency,\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(num);\n  }\n\n  /**\n   * Create and append a DOM element\n   */\n  createElement(tag, className = '', content = '') {\n    const element = document.createElement(tag);\n    if (className) element.className = className;\n    if (content) element.textContent = content;\n    return element;\n  }\n}\n","import { BaseComponent } from './BaseComponent';\nimport { eventSystem, EVENTS } from '../../core/EventSystem';\n\n/**\n * Dashboard - Main game interface component\n * Handles display of economic, political, and global indicators\n */\nexport class Dashboard extends BaseComponent {\n  constructor() {\n    super();\n    this.initializeElements();\n    this.setupEventListeners();\n  }\n\n  /**\n   * Initialize dashboard elements\n   */\n  initializeElements() {\n    // Header elements\n    this.gameTimeElement = document.getElementById('game-time');\n    this.approvalRatingElement = document.getElementById('approval-rating');\n    this.nextElectionElement = document.getElementById('next-election');\n\n    // Economic panel elements\n    this.gdpGrowthElement = document.getElementById('gdp-growth');\n    this.unemploymentElement = document.getElementById('unemployment');\n    this.inflationElement = document.getElementById('inflation');\n    this.nationalDebtElement = document.getElementById('national-debt');\n\n    // Political panel elements\n    this.coalitionSupportElement = document.getElementById('coalition-support');\n    this.oppositionElement = document.getElementById('opposition');\n    this.independentsElement = document.getElementById('independents');\n    this.nextVoteElement = document.getElementById('next-vote');\n\n    // Global panel elements\n    this.intlStandingElement = document.getElementById('intl-standing');\n    this.tradeBalanceElement = document.getElementById('trade-balance');\n    this.diplomaticRelationsElement = document.getElementById('diplomatic-relations');\n\n    // Events and decisions\n    this.recentEventsElement = document.getElementById('recent-events');\n    this.pendingDecisionsElement = document.getElementById('pending-decisions');\n\n    // Game controls\n    this.pauseBtn = document.getElementById('pause-btn');\n    this.nextTurnBtn = document.getElementById('next-turn-btn');\n    this.saveBtn = document.getElementById('save-btn');\n    this.loadBtn = document.getElementById('load-btn');\n  }\n\n  /**\n   * Setup event listeners\n   */\n  setupEventListeners() {\n    // Listen for game state updates\n    eventSystem.on(EVENTS.UI_UPDATE, (event) => {\n      this.update(event.data.gameState);\n    });\n\n    eventSystem.on(EVENTS.TURN_END, (event) => {\n      this.update(event.data.gameState);\n    });\n\n    // Game control buttons\n    if (this.pauseBtn) {\n      this.addEventListener(this.pauseBtn, 'click', () => {\n        this.handlePauseToggle();\n      });\n    }\n\n    if (this.nextTurnBtn) {\n      this.addEventListener(this.nextTurnBtn, 'click', () => {\n        eventSystem.emit(EVENTS.GAME_START); // Trigger next turn\n      });\n    }\n\n    if (this.saveBtn) {\n      this.addEventListener(this.saveBtn, 'click', () => {\n        this.handleSaveGame();\n      });\n    }\n\n    if (this.loadBtn) {\n      this.addEventListener(this.loadBtn, 'click', () => {\n        this.handleLoadGame();\n      });\n    }\n  }\n\n  /**\n   * Update dashboard with current game state\n   */\n  update(gameState) {\n    this.updateHeader(gameState);\n    this.updateEconomicPanel(gameState);\n    this.updatePoliticalPanel(gameState);\n    this.updateGlobalPanel(gameState);\n    this.updateEvents(gameState);\n  }\n\n  /**\n   * Update header information\n   */\n  updateHeader(gameState) {\n    if (this.gameTimeElement) {\n      this.gameTimeElement.textContent = `Week ${gameState.time.week}, Year ${gameState.time.year}`;\n    }\n\n    if (this.approvalRatingElement) {\n      const { approval } = gameState.politics;\n      this.approvalRatingElement.textContent = `Approval: ${this.formatPercentage(approval)}`;\n\n      // Add color coding\n      this.approvalRatingElement.className = '';\n      if (approval >= 60) {\n        this.approvalRatingElement.classList.add('text-success');\n      } else if (approval >= 40) {\n        // Default color\n      } else {\n        this.approvalRatingElement.classList.add('text-danger');\n      }\n    }\n\n    if (this.nextElectionElement) {\n      const election = gameState.politics.nextElection;\n      const weeksUntil = (election.year - gameState.time.year) * 52 + (election.week - gameState.time.week);\n      this.nextElectionElement.textContent = `Next Election: ${weeksUntil}w`;\n    }\n  }\n\n  /**\n   * Update economic panel\n   */\n  updateEconomicPanel(gameState) {\n    const { economy } = gameState;\n\n    if (this.gdpGrowthElement) {\n      const growth = economy.gdpGrowth;\n      this.gdpGrowthElement.textContent = `${growth >= 0 ? '+' : ''}${this.formatNumber(growth, 1)}%`;\n      this.gdpGrowthElement.className = growth >= 0 ? 'text-success' : 'text-danger';\n    }\n\n    if (this.unemploymentElement) {\n      this.unemploymentElement.textContent = this.formatPercentage(economy.unemployment);\n    }\n\n    if (this.inflationElement) {\n      const { inflation } = economy;\n      this.inflationElement.textContent = this.formatPercentage(inflation, 1);\n      this.inflationElement.className = '';\n      if (inflation > 4) {\n        this.inflationElement.classList.add('text-warning');\n      } else if (inflation < 1) {\n        this.inflationElement.classList.add('text-danger');\n      }\n    }\n\n    if (this.nationalDebtElement) {\n      const debtRatio = (gameState.country.debt / gameState.country.gdp) * 100;\n      this.nationalDebtElement.textContent = `${this.formatPercentage(debtRatio)} of GDP`;\n\n      if (debtRatio > 90) {\n        this.nationalDebtElement.className = 'text-danger';\n      } else if (debtRatio > 70) {\n        this.nationalDebtElement.className = 'text-warning';\n      } else {\n        this.nationalDebtElement.className = '';\n      }\n    }\n  }\n\n  /**\n   * Update political panel\n   */\n  updatePoliticalPanel(gameState) {\n    const { politics } = gameState;\n\n    if (this.coalitionSupportElement) {\n      const coalitionSupport = politics.coalition.reduce((sum, party) => sum + party.support, 0);\n      this.coalitionSupportElement.textContent = this.formatPercentage(coalitionSupport);\n    }\n\n    if (this.oppositionElement) {\n      const oppositionSupport = politics.opposition.reduce((sum, party) => sum + party.support, 0);\n      this.oppositionElement.textContent = this.formatPercentage(oppositionSupport);\n    }\n\n    if (this.independentsElement) {\n      const totalSupport = [...politics.coalition, ...politics.opposition]\n        .reduce((sum, party) => sum + party.support, 0);\n      const independents = Math.max(0, 100 - totalSupport);\n      this.independentsElement.textContent = this.formatPercentage(independents);\n    }\n\n    if (this.nextVoteElement) {\n      this.nextVoteElement.textContent = politics.nextVote ? politics.nextVote : 'None scheduled';\n    }\n  }\n\n  /**\n   * Update global panel\n   */\n  updateGlobalPanel(gameState) {\n    const { global } = gameState;\n\n    if (this.intlStandingElement) {\n      this.intlStandingElement.textContent = global.internationalStanding;\n    }\n\n    if (this.tradeBalanceElement) {\n      const balance = global.tradeBalance;\n      this.tradeBalanceElement.textContent = `${this.formatCurrency(balance / 1000000000, 'USD')}B`;\n      this.tradeBalanceElement.className = balance >= 0 ? 'text-success' : 'text-danger';\n    }\n\n    if (this.diplomaticRelationsElement) {\n      const avgRelation = Object.values(global.relations).reduce((sum, val) => sum + val, 0)\n                          / Object.values(global.relations).length;\n      this.diplomaticRelationsElement.textContent = this.formatNumber(avgRelation);\n    }\n  }\n\n  /**\n   * Update events and decisions\n   */\n  updateEvents(gameState) {\n    // Update recent events\n    if (this.recentEventsElement) {\n      this.recentEventsElement.innerHTML = '';\n      const events = gameState.events.recent.slice(-5); // Show last 5 events\n\n      if (events.length === 0) {\n        const li = this.createElement('li', '', 'No recent events');\n        this.recentEventsElement.appendChild(li);\n      } else {\n        events.forEach((event) => {\n          const li = this.createElement('li', '', event.description || event);\n          this.recentEventsElement.appendChild(li);\n        });\n      }\n    }\n\n    // Update pending decisions\n    if (this.pendingDecisionsElement) {\n      this.pendingDecisionsElement.innerHTML = '';\n      const decisions = gameState.events.pending;\n\n      if (decisions.length === 0) {\n        const li = this.createElement('li', '', 'No pending decisions');\n        this.pendingDecisionsElement.appendChild(li);\n      } else {\n        decisions.forEach((decision) => {\n          const li = this.createElement('li', 'decision-item', decision.description || decision);\n          this.addEventListener(li, 'click', () => {\n            this.handleDecisionClick(decision);\n          });\n          this.pendingDecisionsElement.appendChild(li);\n        });\n      }\n    }\n  }\n\n  /**\n   * Handle pause/resume toggle\n   */\n  handlePauseToggle() {\n    // This will be handled by the main game controller\n    eventSystem.emit('game:pause_toggle');\n  }\n\n  /**\n   * Handle save game\n   */\n  handleSaveGame() {\n    const saveName = prompt('Enter a name for your save:');\n    if (saveName !== null) {\n      eventSystem.emit(EVENTS.GAME_SAVE, { saveName });\n    }\n  }\n\n  /**\n   * Handle load game\n   */\n  handleLoadGame() {\n    // This would typically open a load game dialog\n    // For now, we'll just emit an event\n    eventSystem.emit('ui:load_game_dialog');\n  }\n\n  /**\n   * Handle decision click\n   */\n  handleDecisionClick(decision) {\n    // This would typically open a decision dialog\n    eventSystem.emit('ui:decision_dialog', { decision });\n    console.log('Decision clicked:', decision);\n  }\n}\n\nexport default Dashboard;\n","import { BaseComponent } from './BaseComponent';\n\n/**\n * Chart - Data visualization component for SP_Sim\n * Provides various chart types for displaying game metrics\n */\nexport class Chart extends BaseComponent {\n  constructor(containerId, options = {}) {\n    super(containerId);\n    this.options = {\n      type: 'line', // line, bar, pie, area\n      width: 400,\n      height: 200,\n      data: [],\n      labels: [],\n      colors: ['#3498db', '#e74c3c', '#27ae60', '#f39c12', '#9b59b6'],\n      title: '',\n      showGrid: true,\n      showAxes: true,\n      showLegend: true,\n      ...options,\n    };\n\n    this.canvas = null;\n    this.ctx = null;\n    this.initializeChart();\n  }\n\n  /**\n   * Initialize chart canvas\n   */\n  initializeChart() {\n    if (!this.element) {\n      console.error('Chart container element not found');\n      return;\n    }\n\n    // Create canvas element\n    this.canvas = this.createElement('canvas');\n    this.canvas.width = this.options.width;\n    this.canvas.height = this.options.height;\n    this.canvas.style.cssText = `\n      max-width: 100%;\n      height: auto;\n      border: 1px solid var(--border-color);\n      border-radius: var(--border-radius);\n    `;\n\n    this.element.innerHTML = '';\n    this.element.appendChild(this.canvas);\n\n    this.ctx = this.canvas.getContext('2d');\n    this.render();\n  }\n\n  /**\n   * Update chart with new data\n   */\n  updateData(data, labels = null) {\n    this.options.data = data;\n    if (labels) {\n      this.options.labels = labels;\n    }\n    this.render();\n  }\n\n  /**\n   * Render the chart\n   */\n  render() {\n    if (!this.ctx) return;\n\n    // Clear canvas\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n    // Set up drawing context\n    this.ctx.font = '12px Arial';\n    this.ctx.textAlign = 'center';\n    this.ctx.textBaseline = 'middle';\n\n    // Calculate drawing area (leaving space for title, axes, legend)\n    const margins = {\n      top: this.options.title ? 30 : 20,\n      right: 20,\n      bottom: this.options.showAxes ? 40 : 20,\n      left: this.options.showAxes ? 50 : 20,\n    };\n\n    const chartArea = {\n      x: margins.left,\n      y: margins.top,\n      width: this.canvas.width - margins.left - margins.right,\n      height: this.canvas.height - margins.top - margins.bottom,\n    };\n\n    // Draw title\n    if (this.options.title) {\n      this.drawTitle();\n    }\n\n    // Draw chart based on type\n    switch (this.options.type) {\n      case 'line':\n        this.drawLineChart(chartArea);\n        break;\n      case 'bar':\n        this.drawBarChart(chartArea);\n        break;\n      case 'pie':\n        this.drawPieChart(chartArea);\n        break;\n      case 'area':\n        this.drawAreaChart(chartArea);\n        break;\n      default:\n        console.warn(`Chart type ${this.options.type} not supported`);\n    }\n\n    // Draw axes\n    if (this.options.showAxes && this.options.type !== 'pie') {\n      this.drawAxes(chartArea);\n    }\n\n    // Draw legend\n    if (this.options.showLegend) {\n      this.drawLegend(chartArea);\n    }\n  }\n\n  /**\n   * Draw chart title\n   */\n  drawTitle() {\n    this.ctx.save();\n    this.ctx.font = 'bold 14px Arial';\n    this.ctx.fillStyle = '#2c3e50';\n    this.ctx.textAlign = 'center';\n    this.ctx.fillText(this.options.title, this.canvas.width / 2, 15);\n    this.ctx.restore();\n  }\n\n  /**\n   * Draw line chart\n   */\n  drawLineChart(area) {\n    const { data } = this.options;\n    if (!data.length) return;\n\n    const pointCount = data[0].values ? data[0].values.length : data.length;\n    const stepX = area.width / Math.max(1, pointCount - 1);\n\n    // Determine Y-axis range\n    const allValues = data.flatMap((series) => (series.values ? series.values : [series]))\n      .filter((v) => typeof v === 'number');\n\n    const minY = Math.min(...allValues);\n    const maxY = Math.max(...allValues);\n    const rangeY = maxY - minY || 1;\n\n    // Draw grid\n    if (this.options.showGrid) {\n      this.drawGrid(area, pointCount, 5);\n    }\n\n    // Draw data series\n    data.forEach((series, seriesIndex) => {\n      const color = this.options.colors[seriesIndex % this.options.colors.length];\n      const values = series.values || [series];\n\n      this.ctx.save();\n      this.ctx.strokeStyle = color;\n      this.ctx.lineWidth = 2;\n      this.ctx.beginPath();\n\n      values.forEach((value, index) => {\n        const x = area.x + index * stepX;\n        const y = area.y + area.height - ((value - minY) / rangeY) * area.height;\n\n        if (index === 0) {\n          this.ctx.moveTo(x, y);\n        } else {\n          this.ctx.lineTo(x, y);\n        }\n      });\n\n      this.ctx.stroke();\n      this.ctx.restore();\n\n      // Draw points\n      this.ctx.save();\n      this.ctx.fillStyle = color;\n      values.forEach((value, index) => {\n        const x = area.x + index * stepX;\n        const y = area.y + area.height - ((value - minY) / rangeY) * area.height;\n\n        this.ctx.beginPath();\n        this.ctx.arc(x, y, 3, 0, 2 * Math.PI);\n        this.ctx.fill();\n      });\n      this.ctx.restore();\n    });\n  }\n\n  /**\n   * Draw bar chart\n   */\n  drawBarChart(area) {\n    const { data } = this.options;\n    if (!data.length) return;\n\n    const values = data.map((item) => item.value || item);\n    const maxValue = Math.max(...values);\n    const barWidth = (area.width / data.length) * 0.8;\n    const barSpacing = (area.width / data.length) * 0.2;\n\n    data.forEach((item, index) => {\n      const value = item.value || item;\n      const barHeight = (value / maxValue) * area.height;\n      const x = area.x + index * (barWidth + barSpacing) + barSpacing / 2;\n      const y = area.y + area.height - barHeight;\n\n      const color = this.options.colors[index % this.options.colors.length];\n\n      this.ctx.save();\n      this.ctx.fillStyle = color;\n      this.ctx.fillRect(x, y, barWidth, barHeight);\n\n      // Draw value label\n      this.ctx.fillStyle = '#2c3e50';\n      this.ctx.textAlign = 'center';\n      this.ctx.fillText(\n        this.formatNumber(value),\n        x + barWidth / 2,\n        y - 10,\n      );\n      this.ctx.restore();\n    });\n  }\n\n  /**\n   * Draw pie chart\n   */\n  drawPieChart(area) {\n    const { data } = this.options;\n    if (!data.length) return;\n\n    const values = data.map((item) => item.value || item);\n    const total = values.reduce((sum, value) => sum + value, 0);\n    const centerX = area.x + area.width / 2;\n    const centerY = area.y + area.height / 2;\n    const radius = Math.min(area.width, area.height) / 2 - 20;\n\n    let currentAngle = -Math.PI / 2; // Start at top\n\n    data.forEach((item, index) => {\n      const value = item.value || item;\n      const sliceAngle = (value / total) * 2 * Math.PI;\n      const color = this.options.colors[index % this.options.colors.length];\n\n      // Draw slice\n      this.ctx.save();\n      this.ctx.fillStyle = color;\n      this.ctx.beginPath();\n      this.ctx.moveTo(centerX, centerY);\n      this.ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);\n      this.ctx.closePath();\n      this.ctx.fill();\n\n      // Draw slice border\n      this.ctx.strokeStyle = '#ffffff';\n      this.ctx.lineWidth = 2;\n      this.ctx.stroke();\n      this.ctx.restore();\n\n      // Draw percentage label\n      const labelAngle = currentAngle + sliceAngle / 2;\n      const labelX = centerX + Math.cos(labelAngle) * radius * 0.7;\n      const labelY = centerY + Math.sin(labelAngle) * radius * 0.7;\n      const percentage = ((value / total) * 100).toFixed(1);\n\n      this.ctx.save();\n      this.ctx.fillStyle = '#ffffff';\n      this.ctx.font = 'bold 10px Arial';\n      this.ctx.textAlign = 'center';\n      this.ctx.fillText(`${percentage}%`, labelX, labelY);\n      this.ctx.restore();\n\n      currentAngle += sliceAngle;\n    });\n  }\n\n  /**\n   * Draw area chart (filled line chart)\n   */\n  drawAreaChart(area) {\n    const { data } = this.options;\n    if (!data.length) return;\n\n    const pointCount = data[0].values ? data[0].values.length : data.length;\n    const stepX = area.width / Math.max(1, pointCount - 1);\n\n    const allValues = data.flatMap((series) => (series.values ? series.values : [series]))\n      .filter((v) => typeof v === 'number');\n\n    const minY = Math.min(0, ...allValues);\n    const maxY = Math.max(...allValues);\n    const rangeY = maxY - minY || 1;\n\n    // Draw filled areas\n    data.forEach((series, seriesIndex) => {\n      const color = this.options.colors[seriesIndex % this.options.colors.length];\n      const values = series.values || [series];\n\n      this.ctx.save();\n      this.ctx.fillStyle = `${color}40`; // Add transparency\n      this.ctx.beginPath();\n\n      // Start from bottom left\n      this.ctx.moveTo(area.x, area.y + area.height);\n\n      values.forEach((value, index) => {\n        const x = area.x + index * stepX;\n        const y = area.y + area.height - ((value - minY) / rangeY) * area.height;\n        this.ctx.lineTo(x, y);\n      });\n\n      // Close path to bottom right\n      this.ctx.lineTo(area.x + (values.length - 1) * stepX, area.y + area.height);\n      this.ctx.closePath();\n      this.ctx.fill();\n      this.ctx.restore();\n    });\n\n    // Draw line on top\n    this.drawLineChart(area);\n  }\n\n  /**\n   * Draw grid lines\n   */\n  drawGrid(area, xLines, yLines) {\n    this.ctx.save();\n    this.ctx.strokeStyle = '#e0e0e0';\n    this.ctx.lineWidth = 1;\n\n    // Vertical lines\n    for (let i = 0; i <= xLines; i += 1) {\n      const x = area.x + (i / xLines) * area.width;\n      this.ctx.beginPath();\n      this.ctx.moveTo(x, area.y);\n      this.ctx.lineTo(x, area.y + area.height);\n      this.ctx.stroke();\n    }\n\n    // Horizontal lines\n    for (let i = 0; i <= yLines; i += 1) {\n      const y = area.y + (i / yLines) * area.height;\n      this.ctx.beginPath();\n      this.ctx.moveTo(area.x, y);\n      this.ctx.lineTo(area.x + area.width, y);\n      this.ctx.stroke();\n    }\n\n    this.ctx.restore();\n  }\n\n  /**\n   * Draw axes\n   */\n  drawAxes(area) {\n    this.ctx.save();\n    this.ctx.strokeStyle = '#2c3e50';\n    this.ctx.lineWidth = 2;\n\n    // Y axis\n    this.ctx.beginPath();\n    this.ctx.moveTo(area.x, area.y);\n    this.ctx.lineTo(area.x, area.y + area.height);\n    this.ctx.stroke();\n\n    // X axis\n    this.ctx.beginPath();\n    this.ctx.moveTo(area.x, area.y + area.height);\n    this.ctx.lineTo(area.x + area.width, area.y + area.height);\n    this.ctx.stroke();\n\n    this.ctx.restore();\n\n    // Draw labels if available\n    if (this.options.labels.length > 0) {\n      this.drawAxisLabels(area);\n    }\n  }\n\n  /**\n   * Draw axis labels\n   */\n  drawAxisLabels(area) {\n    this.ctx.save();\n    this.ctx.fillStyle = '#2c3e50';\n    this.ctx.font = '10px Arial';\n    this.ctx.textAlign = 'center';\n\n    this.options.labels.forEach((label, index) => {\n      const x = area.x + (index / (this.options.labels.length - 1)) * area.width;\n      const y = area.y + area.height + 15;\n      this.ctx.fillText(label, x, y);\n    });\n\n    this.ctx.restore();\n  }\n\n  /**\n   * Draw legend\n   */\n  drawLegend(area) {\n    if (!this.options.data.some((item) => item.name)) return;\n\n    const legendY = area.y + area.height + 30;\n    let legendX = area.x;\n    const legendItemWidth = 100;\n\n    this.ctx.save();\n    this.ctx.font = '10px Arial';\n    this.ctx.textAlign = 'left';\n\n    this.options.data.forEach((item, index) => {\n      if (!item.name) return;\n\n      const color = this.options.colors[index % this.options.colors.length];\n\n      // Draw color box\n      this.ctx.fillStyle = color;\n      this.ctx.fillRect(legendX, legendY - 6, 12, 12);\n\n      // Draw text\n      this.ctx.fillStyle = '#2c3e50';\n      this.ctx.fillText(item.name, legendX + 16, legendY);\n\n      legendX += legendItemWidth;\n    });\n\n    this.ctx.restore();\n  }\n}\n\nexport default Chart;\n","import { BaseComponent } from './BaseComponent';\nimport { Chart } from './Chart';\nimport { eventSystem } from '../../core/EventSystem';\nimport { economicSimulation } from '../../core/EconomicSimulation';\n\n/**\n * EconomicsScreen - Detailed economic simulation interface\n * Shows comprehensive economic data, charts, and policy options\n */\nexport class EconomicsScreen extends BaseComponent {\n  constructor() {\n    super();\n    this.charts = {};\n    this.economicData = null;\n    this.forecast = null;\n\n    this.initializeScreen();\n    this.setupEventListeners();\n  }\n\n  /**\n   * Initialize the economics screen\n   */\n  initializeScreen() {\n    // Create screen container\n    let screenElement = document.querySelector('#screen-economy');\n    if (!screenElement) {\n      screenElement = this.createElement('div', 'screen');\n      screenElement.id = 'screen-economy';\n\n      const mainContent = document.querySelector('.main-content');\n      if (mainContent) {\n        mainContent.appendChild(screenElement);\n      }\n    }\n\n    this.element = screenElement;\n    this.renderEconomicsScreen();\n  }\n\n  /**\n   * Render the economics screen content\n   */\n  renderEconomicsScreen() {\n    this.element.innerHTML = `\n      <div class=\"economics-screen\">\n        <div class=\"economics-header\">\n          <h1>Economic Simulation</h1>\n          <div class=\"economic-phase\">\n            <span class=\"phase-indicator\">Current Phase: <strong id=\"economic-phase\">Expansion</strong></span>\n            <span class=\"phase-duration\">Duration: <strong id=\"phase-duration\">0 weeks</strong></span>\n          </div>\n        </div>\n\n        <div class=\"economics-content\">\n          <!-- Key Metrics Dashboard -->\n          <div class=\"metrics-grid\">\n            <div class=\"metric-card gdp-card\">\n              <h3>GDP Growth</h3>\n              <div class=\"metric-value\" id=\"gdp-growth-detailed\">2.1%</div>\n              <div class=\"metric-trend\" id=\"gdp-trend\">▲ Stable</div>\n            </div>\n            <div class=\"metric-card unemployment-card\">\n              <h3>Unemployment</h3>\n              <div class=\"metric-value\" id=\"unemployment-detailed\">6.0%</div>\n              <div class=\"metric-trend\" id=\"unemployment-trend\">▼ Decreasing</div>\n            </div>\n            <div class=\"metric-card inflation-card\">\n              <h3>Inflation</h3>\n              <div class=\"metric-value\" id=\"inflation-detailed\">2.4%</div>\n              <div class=\"metric-trend\" id=\"inflation-trend\">▲ Increasing</div>\n            </div>\n            <div class=\"metric-card confidence-card\">\n              <h3>Economic Confidence</h3>\n              <div class=\"metric-value\" id=\"confidence-detailed\">75</div>\n              <div class=\"metric-trend\" id=\"confidence-trend\">▲ Positive</div>\n            </div>\n          </div>\n\n          <!-- Charts Section -->\n          <div class=\"charts-section\">\n            <div class=\"chart-container\">\n              <h3>Economic Trends</h3>\n              <div id=\"economic-trends-chart\" class=\"chart\"></div>\n            </div>\n            <div class=\"chart-container\">\n              <h3>Sector Performance</h3>\n              <div id=\"sector-performance-chart\" class=\"chart\"></div>\n            </div>\n          </div>\n\n          <!-- Forecast Section -->\n          <div class=\"forecast-section\">\n            <h3>Economic Forecast (Next 12 Weeks)</h3>\n            <div id=\"forecast-chart\" class=\"chart\"></div>\n            <div class=\"forecast-summary\">\n              <p id=\"forecast-summary-text\">Economic projections will be displayed here.</p>\n            </div>\n          </div>\n\n          <!-- Sector Breakdown -->\n          <div class=\"sectors-section\">\n            <h3>Economic Sectors</h3>\n            <div class=\"sectors-grid\">\n              <div class=\"sector-card agriculture-sector\">\n                <h4>Agriculture</h4>\n                <div class=\"sector-share\" id=\"agriculture-share\">5%</div>\n                <div class=\"sector-growth\" id=\"agriculture-growth\">+1.2%</div>\n              </div>\n              <div class=\"sector-card manufacturing-sector\">\n                <h4>Manufacturing</h4>\n                <div class=\"sector-share\" id=\"manufacturing-share\">25%</div>\n                <div class=\"sector-growth\" id=\"manufacturing-growth\">+2.8%</div>\n              </div>\n              <div class=\"sector-card services-sector\">\n                <h4>Services</h4>\n                <div class=\"sector-share\" id=\"services-share\">70%</div>\n                <div class=\"sector-growth\" id=\"services-growth\">+2.0%</div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Policy Tools -->\n          <div class=\"policy-section\">\n            <h3>Economic Policy Tools</h3>\n            <div class=\"policy-categories\">\n              <div class=\"policy-category fiscal-policies\">\n                <h4>Fiscal Policies</h4>\n                <div class=\"policy-buttons\">\n                  <button class=\"btn btn--primary\" id=\"fiscal-stimulus-btn\">Fiscal Stimulus</button>\n                  <button class=\"btn btn--primary\" id=\"tax-cut-btn\">Tax Cuts</button>\n                  <button class=\"btn btn--secondary\" id=\"tax-increase-btn\">Tax Increase</button>\n                  <button class=\"btn btn--primary\" id=\"infrastructure-btn\">Infrastructure Investment</button>\n                </div>\n              </div>\n              \n              <div class=\"policy-category monetary-policies\">\n                <h4>Monetary Policies</h4>\n                <div class=\"policy-buttons\">\n                  <button class=\"btn btn--secondary\" id=\"interest-rate-btn\">Adjust Interest Rates</button>\n                </div>\n              </div>\n\n              <div class=\"policy-category sector-policies\">\n                <h4>Sector-Specific Policies</h4>\n                <div class=\"policy-buttons\">\n                  <button class=\"btn btn--primary\" id=\"education-investment-btn\">Education Investment</button>\n                  <button class=\"btn btn--primary\" id=\"healthcare-investment-btn\">Healthcare Investment</button>\n                  <button class=\"btn btn--primary\" id=\"green-energy-btn\">Green Energy Initiative</button>\n                  <button class=\"btn btn--primary\" id=\"agricultural-subsidies-btn\">Agricultural Subsidies</button>\n                </div>\n              </div>\n\n              <div class=\"policy-category trade-regulation\">\n                <h4>Trade & Regulation</h4>\n                <div class=\"policy-buttons\">\n                  <button class=\"btn btn--primary\" id=\"trade-promotion-btn\">Trade Promotion</button>\n                  <button class=\"btn btn--secondary\" id=\"regulation-increase-btn\">Increase Regulation</button>\n                  <button class=\"btn btn--primary\" id=\"regulation-decrease-btn\">Decrease Regulation</button>\n                  <button class=\"btn btn--primary\" id=\"minimum-wage-btn\">Minimum Wage Increase</button>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"active-policies\">\n              <h4>Active Policies</h4>\n              <ul id=\"active-policies-list\">\n                <li>No active economic policies</li>\n              </ul>\n            </div>\n          </div>\n\n          <!-- Economic Events -->\n          <div class=\"events-section\">\n            <h3>Recent Economic Events</h3>\n            <ul id=\"economic-events-list\" class=\"events-list\">\n              <li>Economic simulation initialized</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    `;\n\n    this.initializeCharts();\n    this.setupPolicyButtons();\n  }\n\n  /**\n   * Initialize charts\n   */\n  initializeCharts() {\n    // Economic trends chart\n    this.charts.trends = new Chart('economic-trends-chart', {\n      type: 'line',\n      width: 500,\n      height: 200,\n      title: 'Economic Indicators Over Time',\n      data: [\n        { name: 'GDP Growth', values: [], color: '#3498db' },\n        { name: 'Unemployment', values: [], color: '#e74c3c' },\n        { name: 'Inflation', values: [], color: '#f39c12' },\n      ],\n      showLegend: true,\n    });\n\n    // Sector performance chart\n    this.charts.sectors = new Chart('sector-performance-chart', {\n      type: 'pie',\n      width: 300,\n      height: 200,\n      title: 'Economic Sectors',\n      data: [\n        { name: 'Agriculture', value: 5 },\n        { name: 'Manufacturing', value: 25 },\n        { name: 'Services', value: 70 },\n      ],\n      showLegend: true,\n    });\n\n    // Forecast chart\n    this.charts.forecast = new Chart('forecast-chart', {\n      type: 'line',\n      width: 600,\n      height: 200,\n      title: 'Economic Forecast',\n      data: [],\n      showLegend: true,\n    });\n  }\n\n  /**\n   * Setup policy button event handlers\n   */\n  setupPolicyButtons() {\n    // Fiscal Policies\n    const fiscalBtn = document.getElementById('fiscal-stimulus-btn');\n    const taxBtn = document.getElementById('tax-cut-btn');\n    const taxIncreaseBtn = document.getElementById('tax-increase-btn');\n    const infraBtn = document.getElementById('infrastructure-btn');\n\n    // Monetary Policies\n    const interestBtn = document.getElementById('interest-rate-btn');\n\n    // Sector Policies\n    const educationBtn = document.getElementById('education-investment-btn');\n    const healthcareBtn = document.getElementById('healthcare-investment-btn');\n    const greenEnergyBtn = document.getElementById('green-energy-btn');\n    const agriSubsidiesBtn = document.getElementById('agricultural-subsidies-btn');\n\n    // Trade & Regulation\n    const tradePromotionBtn = document.getElementById('trade-promotion-btn');\n    const regIncreaseBtn = document.getElementById('regulation-increase-btn');\n    const regDecreaseBtn = document.getElementById('regulation-decrease-btn');\n    const minWageBtn = document.getElementById('minimum-wage-btn');\n\n    // Fiscal Policy Handlers\n    if (fiscalBtn) {\n      this.addEventListener(fiscalBtn, 'click', () => {\n        this.implementPolicy('fiscal_stimulus', {\n          name: 'Fiscal Stimulus Package',\n          amount: 0.02,\n          duration: 24,\n        });\n      });\n    }\n\n    if (taxBtn) {\n      this.addEventListener(taxBtn, 'click', () => {\n        this.implementPolicy('tax_cut', {\n          name: 'Tax Cuts',\n          amount: 0.015,\n          duration: 52,\n        });\n      });\n    }\n\n    if (taxIncreaseBtn) {\n      this.addEventListener(taxIncreaseBtn, 'click', () => {\n        this.implementPolicy('tax_increase', {\n          name: 'Tax Increase',\n          amount: 0.02,\n          duration: 52,\n        });\n      });\n    }\n\n    if (infraBtn) {\n      this.addEventListener(infraBtn, 'click', () => {\n        this.implementPolicy('infrastructure_investment', {\n          name: 'Infrastructure Investment',\n          amount: 0.05,\n          duration: 104,\n        });\n      });\n    }\n\n    // Monetary Policy Handlers\n    if (interestBtn) {\n      this.addEventListener(interestBtn, 'click', () => {\n        const change = prompt('Enter interest rate change (e.g., -0.5 for 0.5% decrease):');\n        if (change !== null) {\n          this.implementPolicy('interest_rate_change', {\n            name: `Interest Rate ${parseFloat(change) > 0 ? 'Increase' : 'Decrease'}`,\n            change: parseFloat(change) || 0,\n            duration: 1,\n          });\n        }\n      });\n    }\n\n    // Sector Policy Handlers\n    if (educationBtn) {\n      this.addEventListener(educationBtn, 'click', () => {\n        this.implementPolicy('education_investment', {\n          name: 'Education Investment',\n          amount: 0.03,\n          duration: 78,\n        });\n      });\n    }\n\n    if (healthcareBtn) {\n      this.addEventListener(healthcareBtn, 'click', () => {\n        this.implementPolicy('healthcare_investment', {\n          name: 'Healthcare Investment',\n          amount: 0.025,\n          duration: 104,\n        });\n      });\n    }\n\n    if (greenEnergyBtn) {\n      this.addEventListener(greenEnergyBtn, 'click', () => {\n        this.implementPolicy('green_energy_investment', {\n          name: 'Green Energy Initiative',\n          amount: 0.04,\n          duration: 156,\n        });\n      });\n    }\n\n    if (agriSubsidiesBtn) {\n      this.addEventListener(agriSubsidiesBtn, 'click', () => {\n        this.implementPolicy('agricultural_subsidies', {\n          name: 'Agricultural Subsidies',\n          amount: 0.006,\n          duration: 52,\n        });\n      });\n    }\n\n    // Trade & Regulation Handlers\n    if (tradePromotionBtn) {\n      this.addEventListener(tradePromotionBtn, 'click', () => {\n        this.implementPolicy('trade_promotion', {\n          name: 'Trade Promotion Initiative',\n          amount: 0.012,\n          duration: 39,\n        });\n      });\n    }\n\n    if (regIncreaseBtn) {\n      this.addEventListener(regIncreaseBtn, 'click', () => {\n        this.implementPolicy('regulation_increase', {\n          name: 'Increase Regulations',\n          amount: 0.015,\n          duration: 26,\n        });\n      });\n    }\n\n    if (regDecreaseBtn) {\n      this.addEventListener(regDecreaseBtn, 'click', () => {\n        this.implementPolicy('regulation_decrease', {\n          name: 'Decrease Regulations',\n          amount: 0.02,\n          duration: 26,\n        });\n      });\n    }\n\n    if (minWageBtn) {\n      this.addEventListener(minWageBtn, 'click', () => {\n        this.implementPolicy('minimum_wage_increase', {\n          name: 'Minimum Wage Increase',\n          amount: 0.008,\n          duration: 26,\n        });\n      });\n    }\n  }\n\n  /**\n   * Setup event listeners\n   */\n  setupEventListeners() {\n    eventSystem.on('economic:update', (event) => {\n      this.economicData = event.data;\n      this.updateDisplay();\n    });\n\n    eventSystem.on('economic:event', (event) => {\n      this.addEconomicEvent(event.data);\n    });\n\n    eventSystem.on('economic:policy_applied', (_event) => {\n      this.updateActivePolicies();\n    });\n  }\n\n  /**\n   * Update the display with current economic data\n   */\n  updateDisplay() {\n    if (!this.economicData) return;\n\n    const { metrics, sectors, cycle } = this.economicData;\n\n    // Update key metrics\n    this.updateElement('gdp-growth-detailed', `${metrics.gdpGrowth.toFixed(1)}%`);\n    this.updateElement('unemployment-detailed', `${metrics.unemployment.toFixed(1)}%`);\n    this.updateElement('inflation-detailed', `${metrics.inflation.toFixed(1)}%`);\n    this.updateElement('confidence-detailed', metrics.confidence.toFixed(0));\n\n    // Update business cycle info\n    this.updateElement('economic-phase', cycle.phase.charAt(0).toUpperCase() + cycle.phase.slice(1));\n    this.updateElement('phase-duration', `${cycle.duration} weeks`);\n\n    // Update sector information\n    Object.keys(sectors).forEach((sectorName) => {\n      const sector = sectors[sectorName];\n      this.updateElement(`${sectorName}-share`, `${(sector.share * 100).toFixed(0)}%`);\n      this.updateElement(`${sectorName}-growth`, `${sector.currentGrowth?.toFixed(1) || sector.growth.toFixed(1)}%`);\n    });\n\n    // Update trends\n    this.updateTrends(metrics);\n\n    // Update sector chart\n    this.updateSectorChart(sectors);\n\n    // Update forecast\n    this.updateForecast();\n  }\n\n  /**\n   * Update trends chart\n   */\n  updateTrends(metrics) {\n    // This would ideally store historical data\n    // For now, we'll just update with current values\n    const trendData = [\n      { name: 'GDP Growth', values: [metrics.gdpGrowth] },\n      { name: 'Unemployment', values: [metrics.unemployment] },\n      { name: 'Inflation', values: [metrics.inflation] },\n    ];\n\n    this.charts.trends.updateData(trendData);\n  }\n\n  /**\n   * Update sector chart\n   */\n  updateSectorChart(sectors) {\n    const sectorData = Object.keys(sectors).map((name) => ({\n      name: name.charAt(0).toUpperCase() + name.slice(1),\n      value: sectors[name].share * 100,\n    }));\n\n    this.charts.sectors.updateData(sectorData);\n  }\n\n  /**\n   * Update forecast chart\n   */\n  updateForecast() {\n    this.forecast = economicSimulation.getForecast(12);\n\n    const forecastData = [\n      { name: 'GDP Growth', values: this.forecast.gdpGrowth },\n      { name: 'Unemployment', values: this.forecast.unemployment },\n      { name: 'Inflation', values: this.forecast.inflation },\n    ];\n\n    const labels = Array.from({ length: 12 }, (_, i) => `Week ${i + 1}`);\n\n    this.charts.forecast.updateData(forecastData, labels);\n\n    // Update forecast summary\n    const summaryText = this.generateForecastSummary();\n    this.updateElement('forecast-summary-text', summaryText);\n  }\n\n  /**\n   * Generate forecast summary text\n   */\n  generateForecastSummary() {\n    if (!this.forecast) return 'Forecast data not available.';\n\n    const finalGDP = this.forecast.gdpGrowth[this.forecast.gdpGrowth.length - 1];\n    const finalUnemployment = this.forecast.unemployment[this.forecast.unemployment.length - 1];\n    const finalInflation = this.forecast.inflation[this.forecast.inflation.length - 1];\n\n    let summary = 'Economic forecast shows ';\n\n    if (finalGDP > this.economicData.metrics.gdpGrowth) {\n      summary += 'improving growth, ';\n    } else {\n      summary += 'slowing growth, ';\n    }\n\n    if (finalUnemployment < this.economicData.metrics.unemployment) {\n      summary += 'decreasing unemployment, ';\n    } else {\n      summary += 'rising unemployment, ';\n    }\n\n    summary += `and inflation ${finalInflation > 3 ? 'above target' : 'near target'}.`;\n\n    return summary;\n  }\n\n  /**\n   * Implement economic policy\n   */\n  implementPolicy(type, policy) {\n    eventSystem.emit('policy:implemented', {\n      policy: { type, ...policy },\n    });\n\n    // Add to game events\n    eventSystem.emit('economic:event', {\n      type: 'policy_implemented',\n      message: `Implemented: ${policy.name}`,\n      severity: 'info',\n    });\n  }\n\n  /**\n   * Update active policies display\n   */\n  updateActivePolicies() {\n    const economicState = economicSimulation.getEconomicState();\n    const policiesList = document.getElementById('active-policies-list');\n\n    if (policiesList) {\n      if (economicState.activePolicies === 0) {\n        policiesList.innerHTML = '<li>No active economic policies</li>';\n      } else {\n        policiesList.innerHTML = `<li>${economicState.activePolicies} active economic policies</li>`;\n      }\n    }\n  }\n\n  /**\n   * Add economic event to the events list\n   */\n  addEconomicEvent(event) {\n    const eventsList = document.getElementById('economic-events-list');\n    if (eventsList) {\n      const eventItem = this.createElement('li', `event-${event.severity || 'info'}`, event.message);\n      eventsList.insertBefore(eventItem, eventsList.firstChild);\n\n      // Keep only last 10 events\n      while (eventsList.children.length > 10) {\n        eventsList.removeChild(eventsList.lastChild);\n      }\n    }\n  }\n\n  /**\n   * Update element text content safely\n   */\n  updateElement(id, content) {\n    const element = document.getElementById(id);\n    if (element) {\n      element.textContent = content;\n    }\n  }\n\n  /**\n   * Show the economics screen\n   */\n  show() {\n    super.show();\n\n    // Update display when screen becomes visible\n    this.economicData = economicSimulation.getEconomicState();\n    this.updateDisplay();\n  }\n}\n\nexport default EconomicsScreen;\n"],"names":["BaseComponent","constructor","elementId","element","document","getElementById","listeners","isVisible","addEventListener","event","handler","listener","push","removeAllEventListeners","forEach","removeEventListener","show","classList","remove","hide","add","toggle","update","_data","console","warn","name","destroy","parentNode","removeChild","setTextContent","selector","text","querySelector","textContent","setHTML","html","innerHTML","addClass","className","removeClass","formatNumber","num","decimals","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","formatPercentage","formatCurrency","currency","style","createElement","tag","content","exports","Dashboard","initializeElements","setupEventListeners","gameTimeElement","approvalRatingElement","nextElectionElement","gdpGrowthElement","unemploymentElement","inflationElement","nationalDebtElement","coalitionSupportElement","oppositionElement","independentsElement","nextVoteElement","intlStandingElement","tradeBalanceElement","diplomaticRelationsElement","recentEventsElement","pendingDecisionsElement","pauseBtn","nextTurnBtn","saveBtn","loadBtn","eventSystem","on","EVENTS","UI_UPDATE","data","gameState","TURN_END","handlePauseToggle","emit","GAME_START","handleSaveGame","handleLoadGame","updateHeader","updateEconomicPanel","updatePoliticalPanel","updateGlobalPanel","updateEvents","time","week","year","approval","politics","election","nextElection","weeksUntil","economy","growth","gdpGrowth","unemployment","inflation","debtRatio","country","debt","gdp","coalitionSupport","coalition","reduce","sum","party","support","oppositionSupport","opposition","totalSupport","independents","Math","max","nextVote","global","internationalStanding","balance","tradeBalance","avgRelation","Object","values","relations","val","length","events","recent","slice","li","appendChild","description","decisions","pending","decision","handleDecisionClick","saveName","prompt","GAME_SAVE","log","Chart","containerId","options","type","width","height","labels","colors","title","showGrid","showAxes","showLegend","canvas","ctx","initializeChart","error","cssText","getContext","render","updateData","clearRect","font","textAlign","textBaseline","margins","top","right","bottom","left","chartArea","x","y","drawTitle","drawLineChart","drawBarChart","drawPieChart","drawAreaChart","drawAxes","drawLegend","save","fillStyle","fillText","restore","area","pointCount","stepX","allValues","flatMap","series","filter","v","minY","min","maxY","rangeY","drawGrid","seriesIndex","color","strokeStyle","lineWidth","beginPath","value","index","moveTo","lineTo","stroke","arc","PI","fill","map","item","maxValue","barWidth","barSpacing","barHeight","fillRect","total","centerX","centerY","radius","currentAngle","sliceAngle","closePath","labelAngle","labelX","cos","labelY","sin","percentage","toFixed","xLines","yLines","i","drawAxisLabels","label","some","legendY","legendX","legendItemWidth","EconomicsScreen","charts","economicData","forecast","initializeScreen","screenElement","id","mainContent","renderEconomicsScreen","initializeCharts","setupPolicyButtons","trends","sectors","fiscalBtn","taxBtn","taxIncreaseBtn","infraBtn","interestBtn","educationBtn","healthcareBtn","greenEnergyBtn","agriSubsidiesBtn","tradePromotionBtn","regIncreaseBtn","regDecreaseBtn","minWageBtn","implementPolicy","amount","duration","change","parseFloat","updateDisplay","addEconomicEvent","_event","updateActivePolicies","metrics","cycle","updateElement","confidence","phase","charAt","toUpperCase","keys","sectorName","sector","share","currentGrowth","updateTrends","updateSectorChart","updateForecast","trendData","sectorData","economicSimulation","getForecast","forecastData","Array","from","_","summaryText","generateForecastSummary","finalGDP","finalUnemployment","finalInflation","summary","policy","message","severity","economicState","getEconomicState","policiesList","activePolicies","eventsList","eventItem","insertBefore","firstChild","children","lastChild"],"mappings":"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AgB,CAAA,CAAE;YACvB,IAAI,CAACnM,mBAAmB,CAAA,CAAE;UAC5B;;UAEF;AACA;AACA;UACEmM,gBAAgBA,CAAA,EAAG;YACrB;YACI,IAAIC,aAAa,GAAG3P,QAAQ,CAAC6B,aAAa,CAAC,iBAAiB,CAAC;YAC7D,IAAI,CAAC8N,aAAa,EAAE;cAClBA,aAAa,GAAG,IAAI,CAAC1M,aAAa,CAAC,KAAK,EAAE,QAAQ,CAAC;cACnD0M,aAAa,CAACC,EAAE,GAAG,gBAAgB;cAEnC,MAAMC,WAAW,GAAG7P,QAAQ,CAAC6B,aAAa,CAAC,eAAe,CAAC;cAC3D,IAAIgO,WAAW,EAAE;gBACfA,WAAW,CAACpH,WAAW,CAACkH,aAAa,CAAC;cACxC;YACF;YAEA,IAAI,CAAC5P,OAAO,GAAG4P,aAAa;YAC5B,IAAI,CAACG,qBAAqB,CAAA,CAAE;UAC9B;;UAEF;AACA;AACA;UACEA,qBAAqBA,CAAA,EAAG;YACtB,IAAI,CAAC/P,OAAO,CAACkC,SAAS,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA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"}